# LSH v3.1.0 Release Notes

**Release Date:** 2025-11-29

## New Features

### Global Workspace Mode (`-g` / `--global` flag)

Added support for global workspace resolution to `$HOME`. This allows users to manage secrets that are not tied to any specific git repository.

**Affected Commands:**
- `lsh push -g` - Push secrets from `~/.env`
- `lsh pull -g` - Pull secrets to `~/.env`
- `lsh sync -g` - Sync global secrets
- `lsh list -g` - List global secrets
- `lsh get -g <key>` - Get a global secret
- `lsh set -g <key> <value>` - Set a global secret
- `lsh status -g` - Show global status
- `lsh info -g` - Show global workspace info
- `lsh env -g` - List global environments
- `lsh delete -g` - Delete global `.env` file

**How it works:**
- When `-g` is passed, `.env` file paths resolve relative to `$HOME` instead of the current directory
- Uses `global` namespace for cloud storage instead of git repository name
- Skips git repository detection entirely
- Supports custom environments: `lsh push -g -e staging` â†’ `global_staging`

**Example Usage:**
```bash
# Push global secrets from ~/.env
lsh push -g

# Pull global secrets to ~/.env
lsh pull -g

# Sync global secrets
lsh sync -g

# Get a global secret
lsh get -g API_KEY

# Show global workspace info
lsh info -g
```

## Test Improvements

- Added comprehensive test suite for global mode functionality (14 tests)
- Added tests for various subsystems including:
  - Base command registrar
  - Cloud config manager
  - Completion system
  - Config manager
  - Constants modules
  - Cron job manager
  - Database schema
  - History systems
  - Job registry and storage
  - Platform utilities
  - String utilities
  - And more...

## Technical Changes

- `SecretsManager` now accepts an options object constructor with `globalMode` parameter
- Added `isGlobalMode()`, `getHomeDir()`, and `resolveFilePath()` methods
- Updated `getRepoAwareEnvironment()` to handle global namespace
- Backward compatible with existing constructor signatures

## Bug Fixes

- None in this release

## Breaking Changes

- None - fully backward compatible

## Dependencies

- No dependency changes

---

**Full Changelog:** [v3.0.0...v3.1.0](https://github.com/gwicho38/lsh/compare/v3.0.0...v3.1.0)

**npm:** `npm install -g lsh-framework@3.1.0`
