# LSH v3.0.0 Release Notes

**Release Date:** November 26, 2025

## Overview

LSH v3.0.0 is a major release that solidifies the encrypted secrets management experience with improved reliability, better error handling, and comprehensive documentation updates.

## Breaking Changes

None. v3.0.0 is fully backward compatible with v2.x configurations.

## New Features

### Registry Fallback for Pull (#100)

When local metadata is missing (e.g., after `lsh clear --all`), pull now automatically checks the Storacha registry before failing:

```bash
# Before v3.0.0: Would fail immediately
lsh clear --all
lsh pull  # Error: No secrets found

# v3.0.0: Auto-recovers from registry
lsh clear --all
lsh pull  # Checks registry, downloads secrets
```

### Improved Error Messages

Error messages now display the effective environment name instead of raw internal values:

```bash
# Before: "No secrets found for environment:"
# After:  "No secrets found for environment: my-project"
```

### Documentation Overhaul

- Completely refreshed README.md with cleaner structure
- Updated all secrets documentation for v3.0.0
- Removed outdated references and simplified guides
- Added troubleshooting for common v3.0.0 scenarios

## Bug Fixes

- **#100**: Pull fails with empty environment error after clearing metadata
- Fixed unused parameter warning in `storeLocally`
- Removed dead code in `lib.ts`

## Changes from v2.3.2

### Code Changes

**src/lib/ipfs-secrets-storage.ts**
- Added registry fallback when local metadata is missing
- Added `displayEnv` for better error context
- Fixed unused `_environment` parameter in `storeLocally`

**src/services/lib/lib.ts**
- Removed unused `_makeCommand` function and dead code

### Documentation Changes

- **README.md**: Complete rewrite with v3.0.0 branding
- **SECRETS_GUIDE.md**: Updated to v3.0.0 with registry fallback docs
- **SECRETS_QUICK_REFERENCE.md**: Refreshed command reference

## Migration Guide

No migration required. Simply upgrade:

```bash
npm install -g lsh-framework@3.0.0
```

## What's Next

- Web dashboard for team secret management
- Built-in rotation templates for AWS/GCP/Azure
- Audit logging improvements
- Secret expiration warnings

## Checksums

```
npm package: lsh-framework@3.0.0
```

## Contributors

- Core development and maintenance

## Links

- **npm**: https://www.npmjs.com/package/lsh-framework
- **GitHub**: https://github.com/gwicho38/lsh
- **Issues**: https://github.com/gwicho38/lsh/issues
