# Default values for a C3 Builder chart.
# This is a YAML-formatted file.

c3Builder:

  namespace: default

  #
  # The coordinates of the builder pod image
  #
  image:
    registry: 'ci-artifacts.c3.ai'
    repository: 'c3-server-build'
    tag: '3.2.0'

  #
  # The C3_SERVER_ROOT value. As there is no way to come up with a default to that, or at least a default that is not
  # brittle, we require that a value is passed by the calling layer
  #
  c3ServerRoot: 'C3_SERVER_ROOT_TO_BE_SET_DURING_INSTALLATION'

  #
  # The HOME value. As there is no way to come up with a default to that, or at least a default that is not brittle,
  # we require that a value is passed by the calling layer
  #
  homeDir: 'HOME_DIR_TO_BE_SET_DURING_INSTALLATION'

  #
  # User id (numeric value)
  #
  uid: 1000

  #
  # Group id (numeric value)
  #
  gid: 1000

  hostPasswdFile: '/etc/passwd'
  hostGroupFile: '/etc/group'

  #
  # We use busyboxy to run init containers that check on the state of dependencies and wait until the
  # dependency services are available. We found that some busybox releases are broken with respect to how
  # nslookup works. 1.28 works well.
  #
  busybox:
    registry: 'ci-artifacts.c3.ai'
    repository: 'busybox'
    tag: '1.28'

  #
  # Configuration of a local directory that will be shared with other auxiliary runtime dependency pods.
  #
  # TODO PLAT-24900
  #
  sharedFileSystem:
    #
    # The name of the local filesystem directory that will mounted by the builder pod, which will subsequently
    # create (or use, if already existing) the sub-directory indicated as "subPath" below.
    #
    local: /tmp
    #
    # The name of the builder pod mount path: the "subPath" sub-directory of the the local filesystem directory
    # specified as "local" will be projected in the builder pod as "mountPath"
    #
    mountPath: '/c3-cluster-shared'
    subPath: 'c3-cluster-shared'

#
# Note: configuration values for persistence components are declared in the values.yaml file that is packages with
# the c3-persistence chart. They can be overridden here but that is normally not necessary.
#
c3-persistence:
  postgresql:
    enabled: true
  #
  # Enable Vault for builder charts.
  #
  vault:
    enabled: false

#
# Note: configuration values for Selenium components are declared in the values.yaml file that is packages with
# the c3-selenium chart. They can be overridden here but that is normally not necessary.
#
